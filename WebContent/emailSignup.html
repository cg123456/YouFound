<!DOCTYPE html>
<html lang="en">
<head>
	<title>La Casa - Real Estate HTML5 Home Page Template</title>
	<meta charset="utf-8">
	<meta name="author" content="pixelhint.com">
	<meta name="description" content="La casa free real state fully responsive html5/css3 home page website template"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />
	
	<link rel="stylesheet" type="text/css" href="css/reset.css">
	<link rel="stylesheet" type="text/css" href="css/responsive.css">
	
	<link rel="stylesheet" type="text/css" href="css/signupin.css">
	
	<!-- 表单的css -->
	<!-- <link rel="stylesheet" type="text/css" href="css/register.css"> -->
	
	<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
	<script type="text/javascript" src="js/jquery.validate.js"></script>
	<script type="text/javascript" src="js/jquery.metadata.js"></script>
	<script type="text/javascript" src="js/resgin.js"></script>


	
	<script type="text/javascript">
	function ajaxVaildateEmail() {
		var vaildate = true;
		$("label").each(function() {
            var labelval = $(this).html();
            if($.trim(labelval) == $.trim("请输入邮箱") && $(".error").css("display")=='block'||
            	$.trim(labelval) == $.trim("邮箱有误") && $(".error").css("display")=='block'){
            	/*alert("labelval="+labelval);*/
                vaildate = false;
                return false;
                /*return false;——跳出所有循环；相当于 java 中的 break 效果。
                return true;——跳出当前循环，进入下一个循环；相当于 javascript 中的 continue 效果*/

            }
        });
		
		if(vaildate) {
			$.ajax({
            	data:"email="+$("#email").val(),
            	type:"GET",
            	dataType:'json',
            	url:"user/vaildateEmail.do",
            	error:function(data) {
            		alert("返回数据失败！");
            	},
            	success: function(data) {
            		if($.trim(data.msg)==$.trim("邮箱已被注册"))
            			$("#email_vaildate").html(data.msg).css("color","red");
            		else
               	 		$("#email_vaildate").html(data.msg).css("color","green"); 
            	}
        	});
		}
	}

    function resetVaildateEmail() {
    	$("#email_vaildate").html(""); 
    }
    
    function checkVerifyCode(form) {
    	$.ajax({
            	data:"verify_code="+$("#verify_code").val(),
            	type:"GET",
            	dataType:'json',
            	url:"user/checkVerifyCode.do",
            	error:function(data) {
            		alert("返回数据失败！");
            	},
            	success: function(data) {
            		if(data.msg=="match") {
            			$("#code_vaildate").html("验证码正确").css("color","green");
            			return true;
            		} else {
               	 		$("#code_vaildate").html("验证码错误").css("color","red"); 
               	 		return false;
               	 	}
            	}
        	});
    }

    var countdown=60; 
	function setSendEmailTime(obj) { 
    	if (countdown == 0) { 
        	obj.removeAttribute("disabled");    
        	obj.value="Send";
        	/*sendEmail();  */
        	countdown = 60; 
        	return;
    	} else { 
        	obj.setAttribute("disabled", true); 
        	obj.value="ReSend(" + countdown + ")"; 
        	countdown--; 
    	} 
		setTimeout(function() { 
    		setSendEmailTime(obj) }
    		,1000) 
	}

    function sendEmail(obj) {
    	$.ajax({
    			data:"email="+$("#email").val(),
            	type:"GET",
            	dataType:'json',
            	url:"user/sendEmail.do",
            	error:function(data) {
            		alert("返回数据失败！");
            	},
            	success: function(data) {
            		if(data.msg=="success") {
            			$("#code_vaildate").html("发送成功").css("color","green");
            		} else {
            			$("#code_vaildate").html("发送失败").css("color","green");
            		}
            	}
        	});
    	setSendEmailTime(obj);
    }

	</script>
</head>
<body>

	<section class="hero">
	
		<div class="signupNav">
			<div id="label"><a href="index.html" >&#60; Back to HomePage</a></div>
		</div>
		<div class="signup">
			<div id="logo">
				<img class="logo" src="img/1.0logo_vqfr2u.png"></img>
			</div>
			<p style="text-align:center;"><a style="font-size:12px">Find you new hone on YouFound</a></p>
			<div class="form_wrapper">
				<form id="emailSignupForm" method="post" action="user/register.do" onsubmit="return checkVerifyCode(this)" class="zcform">
					<p>
						<a id="email_signup"  style="font-size:16px; color:blue; cursor:pointer; float:left; 
						margin-bottom:10px; margin-left:22%;" href="phoneSignup.html">&#60;--sign up with cellphone</a>
					</p>
					<p class="clearfix">
							<input
							id="email" name="email" class="required" value
							placeholder="Email" style="border-radius:5px;"
							onblur="ajaxVaildateEmail()" onfocus="resetVaildateEmail()"/>
							<label id="email_vaildate" name="email_vaildate"> 
							</label>
					</p>
					<p class="clearfix">
							<input
							id="password" name="password" type="password"
							class="{required:true,rangelength:[8,20],}" value
							placeholder="Your Password" style="border-radius:8px"/>
					</p>
					<p class="clearfix">
							<input id="verify_code" name="verify_code" class="identifying_code"
							type="text" value placeholder="Verification Code" style="border-radius:5px"/> 
							<input class="get_code" type="button" onclick="sendEmail(this)" value="Send" style="border-radius:5px;"/>
							<label id="code_vaildate"></label>
					</p>
					<p class="clearfix agreement">
						<input type="checkbox" /><b class="left"><a style="color: #666">Read and agreed</a><a href="#">《User Agreement》</a>
						</b>
					</p>
					<p class="clearfix">
						<input class="submit" type="submit" value="Submit" style="border-radius:5px;"/>
					</p>
					<p class="last">
						<a style="font-size:16px; color: black">Aready a user?</a>
						<a href="signin.html">Login</a>
					</p>
				</form>
			</div>



		</div>
		<!-- <section class="caption">
			<h2 class="caption">Find You Dream Home</h2>
			<h3 class="properties">Already a user?</h3>
			<h3 >Already a user?<a href="register.jsp" style="font-size:3em ">Login</a></h3>
			
		</section> -->
		
	</section>
	<!--  end hero section  -->

	
	<footer>
		<div class="wrapper footer">
			<ul>
				<li class="links">
					<ul>
						<li><a href="#">About</a></li>
						<li><a href="#">Support</a></li>
						<li><a href="#">Terms</a></li>
						<li><a href="#">Policy</a></li>
						<li><a href="#">Contact</a></li>
					</ul>
				</li>

				<li class="links">
					<ul>
						<li><a href="#">Appartements</a></li>
						<li><a href="#">Houses</a></li>
						<li><a href="#">Villas</a></li>
						<li><a href="#">Mansions</a></li>
						<li><a href="#">...</a></li>
					</ul>
				</li>

				<li class="links">
					<ul>
						<li><a href="#">New York</a></li>
						<li><a href="#">Los Anglos</a></li>
						<li><a href="#">Miami</a></li>
						<li><a href="#">Washington</a></li>
						<li><a href="#">...</a></li>
					</ul>
				</li>

				<li class="about">
					<p>La Casa is real estate minimal html5 website template, designed and coded by pixelhint, tellus varius, dictum erat vel, maximus tellus. Sed vitae auctor ipsum</p>
					<ul>
						<li><a href="http://facebook.com/pixelhint" class="facebook" target="_blank"></a></li>
						<li><a href="http://twitter.com/pixelhint" class="twitter" target="_blank"></a></li>
						<li><a href="http://plus.google.com/+Pixelhint" class="google" target="_blank"></a></li>
						<li><a href="#" class="skype"></a></li>
					</ul>
				</li>
			</ul>
		</div>

		<div class="copyrights wrapper">
			Copyright © 2015 <a href="http://pixelhint.com" target="_blank" class="ph_link" title="Download more free Templates">Pixelhint.com</a>. All Rights Reserved.
		</div>
	</footer><!--  end footer  -->
	
</body>
</html>